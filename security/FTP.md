## FTP 프로토콜

#### <strong>1. 네트워크 기초와 소켓</strong>

-   소켓
    -   물리적 네트워크의 실제 연결을 도와주는 소프트웨어 (일종의 전화기)
    -   전화를 건다 > 전화를 받음 > 음성을 전달 > 통신을 종결

*   서버/클라이언트 통신과 소켓
    -   소켓 통신은 기본적으로 <strong>서버와 클라이언트</strong>의 관계를 자김
        -   서버: 수신자
        -   클라이언트: 발신자
*   운영체제와 소켓
    -   운영체제에서 소켓을 제공해준다. (즉, 운영체제로부터 소켓을 빌려 사용하면 된다)![image-20201024125607660](img\image-20201024125607660.png)



#### <strong>2. FTP 서버와 통신하기</strong>

* <strong>FTP (File Transfer Protocol)</strong>
  * TCP/IP 프로토콜을 가지고 서버와 클라이언트 사이의 파일 전송을 하기 위한 프로토콜
  * 응용 계층 프로토콜
  * 현재 대부분은 윈도우, 유닉스, 리눅스 OS에 기본 포함
* **명령/데이터 전송 연결 (제어 포트: 21번, 데이터 포트: 20번)**
  * **명령 연결**
    * 21번 포트로 사용자 인증 명령을 위한 연결 생성 후, 이를 통해 클라이언트에서 지시하는 명령어 전달
  * **데이터 전송용 연결**
    * 실제의 파일 전송은 필요할 때 새롭게 연결
* **능동/수동 모드 (Active/Passive)**
  * **능동 모드**
    * 서버가 자신의 데이터 포트인 20번 포트에서부터 클라이언트가 지정한 지점으로 데이터 연결
    * 클라이언트에서 방화벽/NAT 등을 사용하는 환경에서는 동작하지 않음
  * **수동 모드**
    * 클라이언트가 서버의 지정한 포트로 연결 시도
    * 양 쪽 모두 1023 보다 큰 포트를 사용